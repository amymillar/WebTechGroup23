<html>
<!DOCTYPE html>
<head>
    <title>End of Quiz</title>
    <!-- link to general css stylesheet-->
    <link rel="stylesheet" href="../style/main.css"> 
    <!-- link to quiz specific css stylesheet-->
    <link rel="stylesheet" href="../style/quiz.css"> 
    <!-- Import pixel style font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <!-- Main title of the app -->
    <h1 class="title">Quiz App</h1>
    <!-- Navigation bar placeholder (loaded using javascript)-->
    <div id="navbar-container"></div>
    <!-- Subtitle for page-->
    <h2 id="quiz-title"></h2>
  </header>

  <main>
    <div class="quiz-container">
      <h1>FINISHED!</h1>
      <!-- Show the final score of the quiz-->
      <h2>YOUR SCORE: <span id="score">0</span></h2>
        
      <!-- -->
      <div class="start-end-btn">
        <!-- When button is clicked the user is redircted to the start page again-->
        <button class="btn" onclick="retryQuiz()">Retry</button>
        <!-- When button is clicked the user is redirected to the Minecraft category page-->
        <button class="btn" onclick="goToCategory()">Back to Category</button>
        <!-- When this button is clicked the user is taken back to the homepage of the website-->
        <button class="btn" onclick="goHome()">Back Home</button>
      </div>      
    </div>
  </main>

  <script>
    // Get the quiz score from the local storage 
    const score = localStorage.getItem('quizScore');
    // Display the score 
    document.getElementById('score').textContent = score;

    // Get the quiz name from the URL (needed to retry quiz)
    function getQuizFromURL() {
        const params = new URLSearchParams(window.location.search);
        return params.get("quiz");
    }

    // Function to retry the quiz the user just attempted
    function retryQuiz() {
        const quizName = getQuizFromURL();
        
        if (quizName) {
          // Reset stored score
          localStorage.removeItem('quizScore'); 
          // Go to quiz starting page for that specific quiz
          window.location.href = `start-quiz.html?quiz=${quizName}`; 
        } 
    }

    // Function to take user back to the Minecraft category page
    function goToCategory() {
      window.location.href = 'category1.html';
    }
  
    // Function yo go back to the home page
    function goHome() {
      window.location.href = 'index.html';
    }
  </script>

  <!-- Load main external javascript-->
  <script src="../scripts/main.js"></script>
</body>
</html> 